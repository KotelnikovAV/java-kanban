Исправил все замечания, реализация стала примерно в миллиард раз проще. 
В мейне написал много строчек кода - это все для тестирования, в тесте задействованы все методы из класса TaskManager. Местами тестирование выполнено через костыли, где-то будут выводится лишние пустые строчки и тд (не уделил времени на то, чтобы формат вывода был красивым). Надеюсь это не проблема? Я просто с этим не сильно запаривался, так как это сугубо для нас и не входит в ТЗ. Разделил по пакетам, но не уверен, что сделал это правильно.
